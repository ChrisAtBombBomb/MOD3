/**
*
*   Classy
*   @version: 0.4.5
*
*   Object-Oriented mini-framework for JavaScript
*   https://github.com/foo123/classy.js
*
**/!function(e,t,n,r,l){var o="undefined"!=typeof global&&"[object global]"=={}.toString.call(global)?1:0,a=o||"undefined"==typeof navigator?0:1,i="function"==typeof importScripts&&navigator instanceof WorkerNavigator?1:0,c=Array,u=c.prototype,f=function(){var e=null;if(o)return e=__filename,{path:__dirname,file:__filename};if(i)e=self.location.href;else if(a){var t;(t=document.getElementsByTagName("script"))&&t.length&&(e=t[t.length-1].src)}return e?{path:e.split("/").slice(0,-1).join("/"),file:e}:{path:null,file:null}},p=f(),s=function(e,t){if(o)return t;if("."==t.charAt(0)){e=e.split("/"),t=t.split("/");var n,r=0,l=0,a=t.length,i=e.length;for(n=0;a>n;n++)if(/^\.\./.test(t[n]))r++,l++;else{if(!/^\./.test(t[n]))break;l++}r=r>=i?0:i-r,t=e.slice(0,r).concat(t.slice(l)).join("/")}return t};n=n?[].concat(n):[];var y,b,d,g=n.length,v=new c(g),m=new c(g),h=new c(g),j=new c(g);for(y=0;g>y;y++)v[y]=n[y][0],m[y]=n[y][1],h[y]=/\.js$/i.test(m[y])?s(p.path,m[y]):s(p.path,m[y]+".js");if("object"==typeof module&&module.exports){if(l===module.exports[t]){for(y=0;g>y;y++)j[y]=module.exports[v[y]]||require(h[y])[v[y]];b=r.apply(e,j),module.exports[t]=b||1}}else if("function"==typeof define&&define.amd)define(["exports"].concat(m),function(n){if(l===n[t]){for(var o=u.slice.call(arguments,1),a=o.length,i=0;a>i;i++)j[i]=n[v[i]]||o[i];b=r.apply(e,j),n[t]=b||1}});else if(i){for(y=0;g>y;y++)self[v[y]]||importScripts(h[y]),j[y]=self[v[y]];b=r.apply(e,j),self[t]=b||1}else if(l===e[t]){var w=function(e,t){d=d||document.getElementsByTagName("head")[0];var n=0,r=document.createElement("script");r.type="text/javascript",r.language="javascript",r.src=e,r.onload=r.onreadystatechange=function(){n||r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(n=1,r.onload=r.onreadystatechange=null,d.removeChild(r),r=null,t&&t())},d.appendChild(r)},x=function(t,n,r){e[t]?r():w(n,r)},E=function(n){return function(){g>n&&(j[n]=e[v[n]]),++n<g?x(v[n],h[n],E(n)):(b=r.apply(e,j),e[t]=b||1)}};g?x(v[0],h[0],E(0)):(b=r.apply(e,j),e[t]=b||1)}}(this,"Classy",null,function(){var e={};return function(e){var t=function(e,t,n){this.v=e||null,this.prev=t||null,n=n||null};t.prototype={constructor:t,v:null,prev:null,next:null};var n=Array.prototype,r=Object.prototype,l=n.slice,o=(n.splice,n.concat,r.toString),a=r.hasOwnProperty,i=r.propertyIsEnumerable,c=Object.keys,u=Object.defineProperty,f=function(e){return"function"==typeof e},p=function(e,t){if("object"!=typeof e||null===e)throw new TypeError("bad desc");var n={};if(a.call(e,"enumerable")&&(n.enumerable=!!t.enumerable),a.call(e,"configurable")&&(n.configurable=!!t.configurable),a.call(e,"value")&&(n.value=t.value),a.call(e,"writable")&&(n.writable=!!e.writable),a.call(e,"get")){var r=e.get;if(!f(r)&&"undefined"!==r)throw new TypeError("bad get");n.get=r}if(a.call(e,"set")){var l=e.set;if(!f(l)&&"undefined"!==l)throw new TypeError("bad set");n.set=l}if(("get"in n||"set"in n)&&("value"in n||"writable"in n))throw new TypeError("identity-confused descriptor");return n},s=Object.defineProperties||function(e,t){if("object"!=typeof e||null===e)throw new TypeError("bad obj");t=Object(t);for(var n=c(t),r=[],l=0;l<n.length;l++)r.push([n[l],p(t[n[l]],e)]);for(var l=0;l<r.length;l++)u(e,r[l][0],r[l][1]);return e},y=Object.create||function(e,t){var n,r=function(){};return r.prototype=e,n=new r,n.__proto__=e,"object"==typeof t&&s(n,t),n},b=function(e){var n=new t(e);return function(e){if(e&&n&&n.v){var r,o=this;if(e="constructor"==e?n.v:n.v.prototype[e])return n=new t(n.v.$super,n),r=e.apply(o,l.call(arguments,1)),n=n.prev,r}}},d=function(){var e,t,n,r,c,u,f,p,s=l.call(arguments);for(t=s.shift()||{},e=s.length,p=0;e>p;p++)if(n=s[p],n&&"object"==typeof n)for(f in n)a.call(n,f)&&i.call(n,f)&&(u=n[f],r=o.call(u),c=typeof u,t[f]="number"==c||u instanceof Number?0+u:u&&("[object Array]"==r||u instanceof Array||"string"==c||u instanceof String)?u.slice(0):u);return t},g=function(e,t){e=e||Object,t=t||{};var n,r;return a.call(t,"constructor")?r=t.constructor:(n=function(){},t.constructor=r=n),r.prototype=y(e.prototype),r.prototype=d(r.prototype,t),s(r.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0},$class:{value:r,enumerable:!1,writable:!0,configurable:!0},$super:{value:b(e),enumerable:!1,writable:!0,configurable:!0}}),s(r,{$super:{value:e,enumerable:!1,writable:!0,configurable:!0},$static:{value:e.$static&&"object"==typeof e.$static?d(null,e.$static):null,enumerable:!1,writable:!0,configurable:!0}}),r},v=Mixin=d,m=function(){var e=l.call(arguments),t=e.length,n=null;if(t>=2){var r=typeof e[0];r="function"==r?{Extends:e[0]}:"object"==r?e[0]:{Extends:Object};var o,a,i=e[1]||{},c=e[2]||null,u={},f=r.Extends||r.extends||Object,p=r.Implements||r.implements,s=r.Mixin||r.mixin;if(p=p?[].concat(p):null,s=s?[].concat(s):null)for(o=0,a=s.length;a>o;o++)s[o].prototype&&(u=Mixin(u,s[o].prototype));if(p)for(o=0,a=p.length;a>o;o++)p[o].prototype&&(u=v(u,p[o].prototype));n=g(f,d(u,i)),c&&"object"==typeof c&&(n.$static=d(n.$static,c))}else n=g(Object,e[0]);return n};e.Classy={VERSION:"0.4.5",Class:m,Extends:g,Implements:v,Mixin:Mixin,Create:y,Merge:d}}(e),e.Classy});
/**
*
*   MOD3.js
*   @version: 0.3.3
*
*   MOD3 3D Modifier Library for JavaScript 
*   port of AS3DMod ActionScript3 library (http://code.google.com/p/as3dmod/)
*   https://github.com/foo123/MOD3
*
**/!function(t,e,i,s,n){i=i?[].concat(i):[];var r,h,o=Array,u=o.prototype,a=i.length,c=new o(a);if("object"==typeof module&&module.exports){if(n===module.exports[e]){for(r=0;a>r;r++)c[r]=module.exports[i[r][0]]||require(i[r][1])[i[r][0]];h=s.apply(t,c),module.exports[e]=h||1}}else if("function"==typeof define&&define.amd)define(["exports"].concat(i.map(function(t){return t[1]})),function(r){if(n===r[e]){var o,a=u.slice.call(arguments,1),l=a.length;for(o=0;l>o;o++)c[o]=r[i[o][0]]||a[o];h=s.apply(t,c),r[e]=h||1}});else if(n===t[e]){for(r=0;a>r;r++)c[r]=t[i[r][0]];h=s.apply(t,c),t[e]=h||1}}(this,"MOD3",[["Classy","./classy"]],function(t){var e=t.Class,i=i||{VERSION:"0.3.3"};return function(t){t.Constants={PI:Math.PI,invPI:1/Math.PI,halfPI:.5*Math.PI,doublePI:2*Math.PI,toRad:Math.PI/180,toDeg:180/Math.PI},t.ModConstant={LEFT:-1,RIGHT:1,NONE:0,X:1,Y:2,Z:4},t.Array32F="undefined"!=typeof Float32Array?Float32Array:Array,t.Array64F="undefined"!=typeof Float64Array?Float64Array:Array,t.Array8I="undefined"!=typeof Int8Array?Int8Array:Array,t.Array16I="undefined"!=typeof Int16Array?Int16Array:Array,t.Array32I="undefined"!=typeof Int32Array?Int32Array:Array,t.Array8U="undefined"!=typeof Uint8Array?Uint8Array:Array,t.Array16U="undefined"!=typeof Uint16Array?Uint16Array:Array,t.Array32U="undefined"!=typeof Uint32Array?Uint32Array:Array,t.VecArray=t.Array32F}(i),function(t,e){var i,s=t.Constants.toRad,n=t.Constants.toDeg,r=Math.min,h=Math.max,o=Math.pow,u=Math.round,a=Math.florr,c=Math.ceil,l=t.XMath={normalize:function(t,e,s){var n,r=e-t;return n=0==r?1:i(0,1,(s-t)/e)},toRange:function(t,e,i){var s,n=e-t;return s=0==n?0:t+(e-t)*i},inRange:function(t,i,s,n){return n===e&&(n=!1),n?s>=t&&i>=s:s>t&&i>s},sign:function(t,i){return i===e&&(i=0),0==t?i:t>0?1:-1},trim:function(t,e,i){return r(e,h(t,i))},wrap:function(t,e,i){var s=e-t;return t>i?i+s:i>=e?i-s:i},degToRad:function(t){return t*s},radToDeg:function(t){return t*n},presicion:function(t,e){var i=o(10,e);return u(t*i)/i},uceil:function(t){return 0>t?a(t):c(t)}};i=l.clamp=l.trim}(i),function(t,i){var s=t.XMath.normalize,n=t.XMath.toRange,r=t.XMath.trim;t.Range=e(Object,{constructor:function(t,e){this.start=0,this.end=1,t!==i&&(this.start=t),e!==i&&(this.end=e)},start:0,end:1,dispose:function(){return this.start=null,this.end=null,this},getSize:function(){return this.end-this.start},move:function(t){this.start+=t,this.end+=t},isIn:function(t){return t>=this.start&&t<=this.end},normalize:function(t){return s(this.start,this.end,t)},toRange:function(t){return n(this.start,this.end,t)},trim:function(t){return r(this.start,this.end,t)},interpolate:function(t,e){return n(this.start,this.end,e.normalize(t))},toString:function(){return"["+this.start+" - "+this.end+"]"}})}(i),function(t,i){var s=Math.sin,n=Math.abs;t.Phase=e(Object,{constructor:function(t){this.value=0,t!==i&&(this.value=t)},value:0,dispose:function(){return this.value=null,this},getPhasedValue:function(){return s(this.value)},getAbsPhasedValue:function(){return n(s(this.value))},getNormValue:function(){return.5*(s(this.value)+1)}})}(i),function(t,i){var s=t.Point=e(Object,{constructor:function(t,e){this.x=t===i?0:t,this.y=e===i?0:e},x:0,y:0,dispose:function(){return this.x=null,this.y=null,this},clone:function(){return new s(this.x,this.y)}})}(i),function(t,i){var s=Math.sin,n=Math.cos,r=t.Point,h=t.Matrix=e(Object,{constructor:function(t,e,s,n){this.m11=t===i?1:t,this.m12=e===i?0:e,this.m21=s===i?0:s,this.m22=n===i?1:n},m11:1,m12:0,m21:0,m22:1,dispose:function(){return this.m11=null,this.m12=null,this.m21=null,this.m22=null,this},reset:function(){return this.m11=1,this.m12=0,this.m21=0,this.m22=1,this},rotate:function(t){var e=n(t),i=s(t);return this.m11=e,this.m12=-i,this.m21=i,this.m22=e,this},scale:function(t,e){return this.m12=0,this.m21=0,t!==i&&(this.m11=t,this.m22=t),e!==i&&(this.m22=e),this},multiply:function(t){var e=this.m11,i=this.m12,s=this.m21,n=this.m22,r=t.m11,h=t.m12,o=t.m21,u=t.m22;return this.m11=e*r+i*o,this.m12=e*h+i*u,this.m21=s*r+n*o,this.m22=s*h+n*u,this},transformPoint:function(t){var e=t.x,i=t.y,s=this.m11*e+this.m12*i,n=this.m21*e+this.m22*i;return new r(s,n)},transformPointSelf:function(t){var e=t.x,i=t.y;return t.x=this.m11*e+this.m12*i,t.y=this.m21*e+this.m22*i,t},clone:function(){return new h(this.m11,this.m12,this.m21,this.m22)}})}(i),function(t,i){var s=Math.sqrt,n=t.VecArray,r=t.Vector3=e(Object,{constructor:function(t,e,s){t&&t.length?this.xyz=new n([t[0],t[1],t[2]]):(t=t===i?0:t,e=e===i?0:e,s=s===i?0:s,this.xyz=new n([t,e,s]))},xyz:null,dispose:function(){return this.xyz=null,this},getXYZ:function(){return new n(this.xyz)},getXYZRef:function(){return this.xyz},setXYZ:function(t){return this.xyz=new n(t),this},setXYZRef:function(t){return this.xyz=t,this},clone:function(){return new r(this.xyz)},equalsSelf:function(t){var e=this.xyz,i=t.xyz;return e[0]==i[0]&&e[1]==i[1]&&e[2]==i[2]},zeroSelf:function(){return this.xyz[0]=0,this.xyz[1]=0,this.xyz[2]=0,this},negate:function(){var t=this.xyz;return new r([-t[0],-t[1],-t[2]])},negateSelf:function(){var t=this.xyz;return t[0]=-t[0],t[1]=-t[1],t[2]=-t[2],this},add:function(t){var e=this.xyz,i=t.xyz;return new r([e[0]+i[0],e[1]+i[1],e[2]+i[2]])},addSelf:function(t){var e=this.xyz,i=t.xyz;return e[0]+=i[0],e[1]+=i[1],e[2]+=i[2],this},subtract:function(t){var e=this.xyz,i=t.xyz;return new r([e[0]-i[0],e[1]-i[1],e[2]-i[2]])},subtractSelf:function(t){var e=this.xyz,i=t.xyz;return e[0]-=i[0],e[1]-=i[1],e[2]-=i[2],this},multiplyScalar:function(t){var e=this.xyz;return new r([e[0]*t,e[1]*t,e[2]*t])},multiplyScalarSelf:function(t){var e=this.xyz;return e[0]*=t,e[1]*=t,e[2]*=t,this},multiply:function(t){var e=this.xyz,i=t.xyz;return new r([e[0]*i[0],e[1]*i[1],e[2]*i[2]])},multiplySelf:function(t){var e=this.xyz,i=t.xyz;return e[0]*=i[0],e[1]*=i[1],e[2]*=i[2],this},divide:function(t){var e=1/t,i=this.xyz;return new r([i[0]*e,i[1]*e,i[2]*e])},divideSelf:function(t){var e=1/t,i=this.xyz;return i[0]*=e,i[1]*=e,i[2]*=e,this},normalize:function(){var t,e=this.xyz,i=e[0],n=e[1],h=e[2],o=i*i+n*n+h*h;return o>0&&(t=1/s(o),i*=t,n*=t,h*=t),new r([i,n,h])},normalizeSelf:function(){var t,e=this.xyz,i=e[0],n=e[1],r=e[2],h=i*i+n*n+r*r;return h>0&&(t=1/s(h),i*=t,n*=t,r*=t),e[0]=i,e[1]=n,e[2]=r,this},getMagnitude:function(){var t=this.xyz,e=t[0],i=t[1],n=t[2];return s(e*e+i*i+n*n)},setMagnitude:function(t){this.normalizeSelf();var e=this.xyz;return e[0]*=t,e[1]*=t,e[2]*=t,this},dotSelf:function(t){var e=this.xyz,i=t.xyz;return e[0]*i[0]+e[1]*i[1]+e[2]*i[2]},crossSelf:function(t){var e=this.xyz,i=t.xyz,s=e[0],n=e[1],r=e[2],h=i[0],o=i[1],u=i[2];return e[0]=n*u-r*o,e[1]=r*h-s*u,e[2]=s*o-n*h,this},distanceSelf:function(t){var e=this.xyz,i=t.xyz,n=e[0]-i[0],r=e[1]-i[1],h=e[2]-i[2];return s(n*n+r*r+h*h)},toString:function(){return"["+this.xyz[0]+" , "+this.xyz[1]+" , "+this.xyz[2]+"]"}});r.ZERO=function(){return new r([0,0,0])},r.dot=function(t,e){var i=t.xyz,s=e.xyz;return i[0]*s[0]+i[1]*s[1]+i[2]*s[2]},r.equals=function(t,e){var i=t.xyz,s=e.xyz;return i[0]==s[0]&&i[1]==s[1]&&i[2]==s[2]},r.cross=function(t,e){var i=t.xyz,s=e.xyz,n=i[0],h=i[1],o=i[2],u=s[0],a=s[1],c=s[2];return new r([h*c-o*a,o*u-n*c,n*a-h*u])},r.distance=function(t,e){var i=t.xyz,n=e.xyz,r=i[0]-n[0],h=i[1]-n[1],o=i[2]-n[2];return s(r*r+h*h+o*o)},r.sum=function(t,e){var i=t.xyz,s=e.xyz;return new r([i[0]+s[0],i[1]+s[1],i[2]+s[2]])}}(i),function(t,i){var s,n,r=Math.sin,h=Math.cos,o=t.Matrix4=e(Object,{constructor:function(t,e,s,n,r,h,o,u,a,c,l,f,x,d,m,y){this.n11=t===i?1:t,this.n12=e===i?0:e,this.n13=s===i?0:s,this.n14=n===i?0:n,this.n21=r===i?0:r,this.n22=h===i?1:h,this.n23=o===i?0:o,this.n24=u===i?0:u,this.n31=a===i?0:a,this.n32=c===i?0:c,this.n33=l===i?1:l,this.n34=f===i?0:f,this.n41=x===i?0:x,this.n42=d===i?0:d,this.n43=m===i?0:m,this.n44=y===i?1:y},n11:1,n12:0,n13:0,n14:0,n21:0,n22:1,n23:0,n24:0,n31:0,n32:0,n33:1,n34:0,n41:0,n42:0,n43:0,n44:1,dispose:function(){return this.n11=null,this.n12=null,this.n13=null,this.n14=null,this.n21=null,this.n22=null,this.n23=null,this.n24=null,this.n31=null,this.n32=null,this.n33=null,this.n34=null,this.n41=null,this.n42=null,this.n43=null,this.n44=null,this},reset:function(){return this.n11=1,this.n12=0,this.n13=0,this.n14=0,this.n21=0,this.n22=1,this.n23=0,this.n24=0,this.n31=0,this.n32=0,this.n33=1,this.n34=0,this.n41=0,this.n42=0,this.n43=0,this.n44=1,this},translationMatrix:function(t,e,i){return this.n14=t,this.n24=e,this.n34=i,this},translationMatrixFromVector:function(t){var e=t.xyz;return this.n14=e[0],this.n24=e[1],this.n34=e[2],this},scaleMatrix:function(t,e,i){return this.n11=t,this.n22=e,this.n33=i,this},scaleMatrixFromVector:function(t){var e=t.xyz;return this.n11=e[0],this.n22=e[0],this.n33=e[0],this},rotationMatrix:function(t,e,i,s){var n=h(s),o=r(s),u=1-n,a=t*e*u,c=e*i*u,l=t*i*u,f=o*i,x=o*e,d=o*t;return this.n11=n+t*t*u,this.n12=-f+a,this.n13=x+l,this.n14=0,this.n21=f+a,this.n22=n+e*e*u,this.n23=-d+c,this.n24=0,this.n31=-x+l,this.n32=d+c,this.n33=n+i*i*u,this.n34=0,this},rotationMatrixFromVector:function(t,e){var i=t.xyz,s=i[0],n=i[1],o=i[2],u=h(e),a=r(e),c=1-u,l=s*n*c,f=n*o*c,x=s*o*c,d=a*o,m=a*n,y=a*s;return this.n11=u+s*s*c,this.n12=-d+l,this.n13=m+x,this.n14=0,this.n21=d+l,this.n22=u+n*n*c,this.n23=-y+f,this.n24=0,this.n31=-m+x,this.n32=y+f,this.n33=u+o*o*c,this.n34=0,this},multiply:function(t){return s(this,t),this},multiplyVector:function(t){var e=t.xyz,i=e[0],s=e[1],n=e[2];return e[0]=i*this.n11+s*this.n12+n*this.n13+this.n14,e[1]=i*this.n21+s*this.n22+n*this.n23+this.n24,e[2]=i*this.n31+s*this.n32+n*this.n33+this.n34,t}});n=o.multiplyVector=function(t,e){var i=e.xyz,s=i[0],n=i[1],r=i[2];return i[0]=s*t.n11+n*t.n12+r*t.n13+t.n14,i[1]=s*t.n21+n*t.n22+r*t.n23+t.n24,i[2]=s*t.n31+n*t.n32+r*t.n33+t.n34,e},s=o.calculateMultiply=function(t,e){var i=t.n11,s=e.n11,n=t.n21,r=e.n21,h=t.n31,o=e.n31,u=t.n12,a=e.n12,c=t.n22,l=e.n22,f=t.n32,x=e.n32,d=t.n13,m=e.n13,y=t.n23,p=e.n23,v=t.n33,g=e.n33,V=t.n14,M=e.n14,w=t.n24,z=e.n24,X=t.n34,A=e.n34;return t.n11=i*s+u*r+d*o,t.n12=i*a+u*l+d*x,t.n13=i*m+u*p+d*g,t.n14=i*M+u*z+d*A+V,t.n21=n*s+c*r+y*o,t.n22=n*a+c*l+y*x,t.n23=n*m+c*p+y*g,t.n24=n*M+c*z+y*A+w,t.n31=h*s+f*r+v*o,t.n32=h*a+f*l+v*x,t.n33=h*m+f*p+v*g,t.n34=h*M+f*z+v*A+X,t}}(i),function(t,i){var s=t.ModConstant,n=s.X,r=s.Y,h=s.Z,o=t.Vector3,u=t.VecArray;t.VertexProxy=e(Object,{constructor:function(t){this.xyz=new u([0,0,0]),this.original=new u([0,0,0]),this.ratio=new u([0,0,0]),i!==t&&null!==t&&!1!==t&&this.setVertex(t)},vertex:null,xyz:null,original:null,ratio:null,dispose:function(){return this.vertex=null,this.xyz=null,this.original=null,this.ratio=null,this},setVertex:function(t){return this.vertex=t,this},getRatioVector:function(){return new o(this.ratio)},getRatio:function(t){switch(t){case n:return this.ratio[0];case r:return this.ratio[1];case h:return this.ratio[2]}return-1},getOriginalValue:function(t){switch(t){case n:return this.original[0];case r:return this.original[1];case h:return this.original[2]}return 0},setRatios:function(t,e,s){return t=t===i?0:t,e=e===i?0:e,s=s===i?0:s,this.ratio=new u([t,e,s]),this},setOriginalPosition:function(t,e,s){return t=t===i?0:t,e=e===i?0:e,s=s===i?0:s,this.original=new u([t,e,s]),this},getXYZ:function(){return new u(this.xyz)},getXYZRef:function(){return this.xyz},getX:function(){return this.xyz[0]},getY:function(){return this.xyz[1]},getZ:function(){return this.xyz[2]},setXYZ:function(t){return t=new u(t),this},setXYZRef:function(t){return t=t,this},setX:function(t){return this.xyz[0]=t,this},setY:function(t){return this.xyz[1]=t,this},setZ:function(t){return this.xyz[2]=t,this},getValue:function(t){switch(t){case n:return this.getX();case r:return this.getY();case h:return this.getZ()}return 0},setValue:function(t,e){switch(t){case n:this.setX(e);break;case r:this.setY(e);break;case h:this.setZ(e)}return this},reset:function(){return this.setXYZ(this.original),this},collapse:function(){return this.original=this.getXYZ(),this},getVector:function(){return new o(this.getXYZ())},setVector:function(t){this.setXYZ(t.xyz)}})}(i),function(t){t.FaceProxy=e(Object,{constructor:function(){this.vertices=[]},vertices:null,dispose:function(){return this.vertices=null,this},addVertex:function(t){this.vertices.push(t)},getVertices:function(){return this.vertices}})}(i),function(t){var i=t.ModConstant,s=i.X,n=i.Y,r=i.Z,h=Math.min,o=Math.max;t.MeshProxy=e(Object,{constructor:function(t){this.maxX=null,this.maxY=null,this.maxZ=null,this.minX=null,this.minY=null,this.minZ=null,this.maxAxis=null,this.midAxis=null,this.minAxis=null,this.width=null,this.height=null,this.depth=null,this.vertices=[],this.faces=[],this.mesh=null,t&&this.setMesh(t)},maxX:null,maxY:null,maxZ:null,minX:null,minY:null,minZ:null,maxAxis:null,midAxis:null,minAxis:null,widht:null,height:null,depth:null,vertices:null,faces:null,mesh:null,dispose:function(){this.maxX=null,this.maxY=null,this.maxZ=null,this.minX=null,this.minY=null,this.minZ=null,this.maxAxis=null,this.midAxis=null,this.minAxis=null,this.widht=null,this.height=null,this.depth=null;var t,e;if(this.faces)for(e=this.faces.length,t=0;e>t;t++)this.faces[t].dispose();if(this.faces=null,this.vertices)for(e=this.vertices.length,t=0;e>t;t++)this.vertices[t].dispose();return this.vertices=null,this.mesh=null,this},setMesh:function(t){return this.mesh=t,this.vertices=[],this},getVertices:function(){return this.vertices},getFaces:function(){return this.faces},analyzeGeometry:function(){var t,e,i,u,a,c,l,f,x,d,m,y,p,v=this.vertices,g=v.length,V=g;for(g&&(t=v[0],e=t.getXYZ(),i=e[0],u=e[1],a=e[2],c=l=i,f=x=u,d=m=a);--V>=0;)t=v[V],e=t.getXYZ(),i=e[0],u=e[1],a=e[2],t.setOriginalPosition(i,u,a),c=h(c,i),f=h(f,u),d=h(d,a),l=o(l,i),x=o(x,u),m=o(m,a);y=l-c,p=x-f,depth=m-d,this.width=y,this.height=p,this.depth=depth,this.minX=c,this.maxX=l,this.minY=f,this.maxY=x,this.minZ=d,this.maxZ=m;var M=o(y,p,depth),w=h(y,p,depth);for(M==y&&w==p?(this.minAxis=n,this.midAxis=r,this.maxAxis=s):M==y&&w==depth?(this.minAxis=r,this.midAxis=n,this.maxAxis=s):M==p&&w==y?(this.minAxis=s,this.midAxis=r,this.maxAxis=n):M==p&&w==depth?(this.minAxis=r,this.midAxis=s,this.maxAxis=n):M==depth&&w==y?(this.minAxis=s,this.midAxis=n,this.maxAxis=r):M==depth&&w==p&&(this.minAxis=n,this.midAxis=s,this.maxAxis=r),V=g;--V>=0;)t=v[V],e=t.getXYZ(),t.setRatios((e[0]-c)/y,(e[1]-f)/p,(e[2]-d)/depth);return this},resetGeometry:function(){for(var t=this.vertices,e=t.length;--e>=0;)t[e].reset();return this.update(),this},collapseGeometry:function(){for(var t=this.vertices,e=t.length;--e>=0;)t[e].collapse();return this.update(),this.analyzeGeometry(),this},getMin:function(t){switch(t){case s:return this.minX;case n:return this.minY;case r:return this.minZ}return-1},getMax:function(t){switch(t){case s:return this.maxX;case n:return this.maxY;case r:return this.maxZ}return-1},getSize:function(t){switch(t){case s:return this.width;case n:return this.height;case r:return this.depth}return-1},update:function(){return this},postApply:function(){return this},updateMeshPosition:function(){return this}})}(i),function(t,i){var s=0;t.Modifier=e(Object,{constructor:function(t){this.id=++s,this.name="Generic Modifier",this.mod=t||null,this.enabled=!0},id:null,name:null,mod:null,enabled:!0,dispose:function(){return this.mod=null,this.name=null,this},enable:function(t){return i!==t?(this.enabled=!!t,this):this.enabled},setModifiable:function(t){return this.mod=t,this},getVertices:function(){return this.mod.getVertices()},apply:function(){return this}})}(i),function(t){t.Library3d=e(Object,{constructor:function(){this.id="",this.meshClass=null,this.vertexClass=null},id:"",meshClass:null,vertexClass:null})}(i),function(t){t.PluginFactory={getMeshProxy:function(t){var e=t.meshClass;return e?new e:null}}}(i),function(t){var i=t.PluginFactory.getMeshProxy;t.ModifierStack=e(Object,{constructor:function(t,e){this.baseMesh=null,this.stack=[],this.lib3d=t,this.baseMesh=i(t),this.baseMesh.setMesh(e),this.baseMesh.analyzeGeometry()},lib3d:null,baseMesh:null,stack:null,dispose:function(t){if(this.lib3d=null,this.baseMesh.dispose(),this.baseMesh=null,t)for(;this.stack.length;)this.stack.pop().dispose();return this.stack=null,this},addModifier:function(t){return t.setModifiable(this.baseMesh),this.stack.push(t),this},apply:function(){var t=this.stack,e=t.length,i=this.baseMesh,s=0;for(i.resetGeometry();e>s;)t[s].enabled&&t[s].apply(),s++;return i.update(),this},collapse:function(){return this.apply(),this.baseMesh.collapseGeometry(),this.stack.length=0,this},clear:function(){return this.stack.length=0,this},getMeshInfo:function(){return this.baseMesh}})}(i),function(t){var i=t.Vector3;t.Pivot=e(t.Modifier,{constructor:function(t,e,s){this.$super("constructor"),this.name="Pivot",this.pivot=new i([t,e,s])},pivot:null,dispose:function(){return this.pivot.dispose(),this.pivot=null,this.$super("dispose"),this},setMeshCenter:function(){var t=this.mod;return this.pivot=new i(-(t.minX+.5*t.width),-(t.minY+.5*t.height),-(t.minZ+.5*t.depth)),this},apply:function(){for(var t,e=this.mod.getVertices(),i=e.length,s=this.pivot;--i>=0;)t=e[i],t.setVector(t.getVector().addSelf(s));return this.mod.updateMeshPosition(s.negate()),this}})}(i),function(t,i){var s=t.ModConstant.NONE,n=t.ModConstant.LEFT,r=t.ModConstant.RIGHT,h=t.Matrix,o=Math.atan,u=(Math.atan2,Math.sin),a=Math.cos,c=t.Constants.PI,l=t.Constants.halfPI,f=t.Constants.doublePI,x=t.Point;t.Bend=e(t.Modifier,{constructor:function(t,e,n){this.$super("constructor"),this.name="Bend",this.constraint=s,this.max=0,this.min=0,this.mid=0,this.width=0,this.height=0,this.origin=0,this.m1=null,this.m2=null,this.diagAngle=0,this.switchAxes=!1,this.force=t!==i?t:0,this.offset=e!==i?e:0,n!==i?this.setAngle(n):this.setAngle(0)},force:0,offset:0,angle:0,diagAngle:0,constraint:s,max:0,min:0,mid:0,width:0,height:0,origin:0,m1:null,m2:null,switchAxes:!1,dispose:function(){return this.force=null,this.offset=null,this.angle=null,this.diagAngle=null,this.constraint=null,this.max=null,this.min=null,this.mid=null,this.width=null,this.height=null,this.origin=null,this.m1&&this.m1.dispose(),this.m2&&this.m2.dispose(),this.m1=null,this.m2=null,this.switchAxes=null,this.$super("dispose"),this},setAngle:function(t){return this.angle=t,this.m1=(new h).rotate(t),this.m2=(new h).rotate(-t),this},setModifiable:function(t){return this.$super("setModifiable",t),this.max=this.switchAxes?this.mod.midAxis:this.mod.maxAxis,this.min=this.mod.minAxis,this.mid=this.switchAxes?this.mod.maxAxis:this.mod.midAxis,this.width=this.mod.getSize(this.max),this.height=this.mod.getSize(this.mid),this.origin=this.mod.getMin(this.max),this.diagAngle=o(this.width/this.height),this},apply:function(){if(!this.force)return this;for(var t,e,i,s,h,o,d,m,y,p,v=this.mod.getVertices(),g=v.length,V=this.constraint,M=this.width,w=this.offset,z=this.origin,X=this.force,A=this.max,P=this.min,Z=this.mid,Y=this.m1,b=this.m2,I=z+M*w,O=M/c/X,R=f*(M/(O*f)),T=1/M;--g>=0;)t=v[g],e=t.getValue(A),i=t.getValue(Z),s=t.getValue(P),h=Y.transformPointSelf(new x(e,i)),e=h.x,i=h.y,o=(e-z)*T,V==n&&w>=o||V==r&&o>=w||(d=l-R*w+R*o,m=u(d)*(O+s),y=a(d)*(O+s),s=m-O,e=I-y),p=b.transformPointSelf(new x(e,i)),e=p.x,i=p.y,t.setValue(A,e),t.setValue(Z,i),t.setValue(P,s);return this}})}(i),function(t){var i=t.Vector3,s=Math.max,n=Math.exp;t.Bloat=e(t.Modifier,{constructor:function(){this.$super("constructor"),this.name="Bloat",this.radius=0,this.a=.01,this.center=i.ZERO()},center:null,radius:0,a:.01,dispose:function(){return this.center.dispose(),this.center=null,this.radius=null,this.a=null,this.$super("dispose"),this},setRadius:function(t){return this.radius=s(0,t),this},setA:function(t){return this.a=s(0,t),this},apply:function(){for(var t,e,i,s=this.mod.getVertices(),r=s.length,h=this.center,o=this.radius,u=this.a;--r>=0;)t=s[r],i=t.getVector().subtractSelf(h),e=i.getMagnitude(),i.setMagnitude(e+o*n(-e*u)),t.setVector(i.addSelf(h));return this}})}(i),function(t,i){var s=t.Vector3,n=t.Matrix4;t.Twist=e(t.Modifier,{constructor:function(t){this.$super("constructor"),this.name="Twist",this.vector=new s([0,1,0]),this.angle=t!==i?t:0,this.center=s.ZERO(),this.mat1=new n,this.mat2=new n},vector:null,angle:0,center:null,mat1:null,mat2:null,dispose:function(){return this.vector.dispose(),this.vector=null,this.angle=null,this.center.dispose(),this.center=null,this.mat1.dispose(),this.mat2.dispose(),this.mat1=null,this.mat2=null,this.$super("dispose"),this},apply:function(){for(var t,e,i,n=this.mod,r=n.getVertices(),h=r.length,o=this.vector.normalizeSelf(),u=this.angle,a=this.center,c=new s([.5*n.maxX,.5*n.maxY,.5*n.maxZ]),l=1/c.getMagnitude(),f=l*u,x=-s.dot(o,a);--h>=0;)t=r[h],i=t.getVector(),e=s.dot(i,o)+x,t.setVector(this.twistPoint(i,o,e*f));return this},twistPoint:function(t,e,i){var n=this.mat1.reset().translationMatrixFromVector(t),r=this.mat2.reset().rotationMatrixFromVector(e,i);return r.multiply(n),new s([r.n14,r.n24,r.n34])}})}(i),function(t,i){var s=Math.abs,n=Math.pow,r=(t.XMath.sign,t.ModConstant),h=r.NONE,o=r.LEFT,u=r.RIGHT,a=r.X,c=r.Y,l=r.Z;t.Skew=e(t.Modifier,{constructor:function(t){this.$super("constructor"),this.name="Skew",this.force=t!==i?t:0,this.offset=.5,this.constraint=h,this.power=1,this.falloff=1,this.inverseFalloff=!1,this.oneSide=!1,this.swapAxes=!1,this.skewAxis=0},force:0,skewAxis:0,offset:.5,constraint:h,power:1,falloff:1,inverseFalloff:!1,oneSide:!1,swapAxes:!1,dispose:function(){return this.force=null,this.skewAxis=null,this.offset=null,this.constraint=null,this.power=null,this.falloff=null,this.inverseFalloff=null,this.oneSide=null,this.swapAxes=null,this.$super("dispose"),this},setModifiable:function(t){return this.$super("setModifiable",t),this.skewAxis=this.skewAxis||this.mod.maxAxis,this},apply:function(){for(var t,e,i,r,h,a,c,l,f=this.mod.getVertices(),x=f.length,d=this.constraint,m=this.skewAxis,y=this.offset,p=this.oneSide,v=this.inverseFalloff,g=this.falloff,V=1-g,M=this.power,w=this.force,z=this.getDisplaceAxis();--x>=0;)t=f[x],c=t.getRatio(m),d==o&&y>=c||d==u&&c>y||(e=c-y,p&&(e=s(e)),i=t.getRatio(z),v&&(i=1-i),r=g+i*V,l=0>e?-1:1,h=n(s(e),M)*l,a=t.getValue(z)+w*h*r,t.setValue(z,a));return this},getDisplaceAxis:function(){var t=this.skewAxis,e=this.swapAxes;switch(t){case a:return e?l:c;case c:return e?l:a;case l:return e?c:a}}})}(i),function(t,i){var s=t.Vector3,n=t.Matrix4,r=Math.pow;t.Taper=e(t.Modifier,{constructor:function(t){this.$super("constructor"),this.name="Taper",this.vector=new s([1,0,1]),this.vector2=new s([0,1,0]),this.force=t!==i?t:0,this.power=1},force:0,power:1,vector:null,vector2:null,dispose:function(){return this.vector.dispose(),this.vector2.dispose(),this.vector=null,this.vector2=null,this.force=null,this.power=null,this.$super("dispose"),this},apply:function(){var t,e,i,s,h,o,u=this.mod.getVertices(),a=u.length,c=this.vector,l=this.vector2,f=this.force,x=this.power;for(s=new n;--a>=0;)t=u[a],e=t.getRatioVector().multiply(l),i=1!=x?f*r(e.getMagnitude(),x):f*e.getMagnitude(),o=c.xyz,s.reset().scaleMatrix(1+i*o[0],1+i*o[1],1+i*o[2]),h=t.getVector(),t.setVector(s.multiplyVector(h));return this}})}(i),function(t){var i=t.Constants.invPI,s=t.Constants.doublePI,n=t.Vector3,r=t.Matrix4;t.Wheel=e(t.Modifier,{constructor:function(){this.$super("constructor"),this.name="Wheel",this.speed=0,this.turn=0,this.roll=0,this.radius=0,this.steerVector=new n([0,1,0]),this.rollVector=new n([0,0,1])},speed:0,turn:0,roll:0,radius:0,steerVector:null,rollVector:null,dispose:function(){return this.speed=null,this.turn=null,this.roll=null,this.radius=null,this.steerVector.dispose(),this.rollVector.dispose(),this.steerVector=null,this.rollVector=null,this.$super("dispose"),this},setModifiable:function(t){return this.$super("setModifiable",t),this.radius=.5*this.mod.width,this},apply:function(){var t,e,i=this.mod.getVertices(),s=i.length,n=this.steerVector,h=this.turn,o=this.rollVector,u=this.roll,a=null,c=null,l=null;for(this.roll+=this.speed,h?(c=(new r).rotationMatrixFromVector(n,h),l=c.multiplyVector(o.clone()),a=(new r).rotationMatrixFromVector(l,u)):a=(new r).rotationMatrixFrom(o,u);--s>=0;)t=i[s],e=t.getVector(),c&&c.multiplyVector(e),setVector(a.multiplyVector(e));return this},getStep:function(){return this.radius*this.speed*i},getPerimeter:function(){return this.radius*s}})}(i),function(t,i){var s=t.Vector3,n=t.Range,r=t.Matrix4;t.Break=e(t.Modifier,{constructor:function(t,e){this.$super("constructor"),this.name="Break",this.bv=new s([0,1,0]),this.range=new n(0,1),this.offset=t!==i?t:0,this.angle=e!==i?e:0},bv:null,range:null,offset:0,angle:0,dispose:function(){return this.bv.dispose(),this.bv=null,this.range.dispose(),this.range=null,this.offset=null,this.angle=null,this.$super("dispose"),this},apply:function(){var t,e,i,n,h,o=this.mod,u=o.getVertices(),a=u.length,c=this.offset,l=this.range,f=this.angle,x=this.bv,d=x.xyz;for(t=new s([0,0,-(o.minZ+o.depth*c)]),e=t.negate(),h=(new r).rotationMatrix(d[0],d[1],d[2],f);--a>=0;)i=u[a],n=i.getVector().addSelf(t),n.xyz[2]>=0&&l.isIn(i.ratio[1])&&h.multiplyVector(n),i.setVector(n.addSelf(e));return this}})}(i),function(t,i){var s=t.ModConstant.NONE,n=t.ModConstant.X,r=t.ModConstant.Y,h=t.ModConstant.Z,o=(t.VecArray,Math.random);t.Noise=e(t.Modifier,{constructor:function(t){this.$super("constructor"),this.name="Noise",this.axc=s,this.start=0,this.end=0,this.force=t!==i?t:0},force:0,axc:s,start:0,end:1,dispose:function(){return this.force=null,this.axc=null,this.start=null,this.end=null,this.$super("dispose"),this},constraintAxes:function(t){return this.axc=t,this},setFalloff:function(t,e){return this.start=t!==i?t:0,this.end=e!==i?e:1,this},apply:function(){for(var t,e,i,s,u,a=this.mod,c=this.axc,l=this.start,f=this.end,x=a.getVertices(),d=x.length,m=this.force,y=.5*m;--d>=0;)t=x[d],e=o()*m-y,i=t.getRatio(a.maxAxis),f>l?l>i?i=0:i>f&&(i=1):l>f?(i=1-i,i>l?i=0:f>i&&(i=1)):i=1,s=e*i,u=t.getXYZ(),t.setXYZ([u[0]+(c&n?0:s),u[1]+(c&r?0:s),u[2]+(c&h?0:s)]);return this}})}(i),function(t){var i=t.ModConstant,s=i.X,n=i.Y,r=i.Z,h=t.Vector3,o=t.VecArray,u=t.VertexThree=e(t.VertexProxy,{constructor:function(t,e){this.mesh=t,this.$super("constructor",e)},mesh:null,dispose:function(){return this.mesh=null,this.$super("dispose"),this},setVertex:function(t){return this.vertex=t,this.original=new o([t.x,t.y,t.z]),this.xyz=new o(this.original),this},getXYZ:function(){var t=this.vertex;return new o([t.x,t.y,t.z])},getX:function(){return this.vertex.x},getY:function(){return this.vertex.y},getZ:function(){return this.vertex.z},setXYZ:function(t){var e=this.vertex;return this.mesh.geometry,e.x=t[0],e.y=t[1],e.z=t[2],this},setX:function(t){var e=this.vertex;return e.x=t,this},setY:function(t){var e=this.vertex;return e.y=t,this},setZ:function(t){var e=this.vertex;return e.z=t,this},reset:function(){var t=this.vertex,e=(this.mesh.geometry,this.original);return t.x=e[0],t.y=e[1],t.z=e[2],this},collapse:function(){var t=this.vertex;return this.original=new o([t.x,t.y,t.z]),this},getValue:function(t){var e=this.vertex;switch(t){case s:return e.x;case n:return e.y;case r:return e.z}return 0},setValue:function(t,e){var i=this.vertex,h=!1;switch(t){case s:i.x=e,h=!0;break;case n:i.y=e,h=!0;break;case r:i.z=e,h=!0}return this},setVector:function(t){var e=this.vertex,i=t.xyz;return this.mesh.geometry,e.x=i[0],e.y=i[1],e.z=i[2],this},getVector:function(){var t=this.vertex;return new h([t.x,t.y,t.z])}});u.prototype.getXYZRef=u.prototype.getXYZ,u.prototype.setXYZRef=u.prototype.setXYZ}(i),function(t){var i=t.VertexThree;t.FaceProxy,t.MeshThree=e(t.MeshProxy,{constructor:function(t){this.$super("constructor",t)},setMesh:function(t){this.$super("setMesh",t);var e,s=0,t=this.mesh,n=this.vertices,r=t.geometry.vertices,h=r.length,o=t.geometry.faces;for(o.length,s=0;h>s;)e=new i(t,r[s]),n.push(e),s++;return this.faces=null,this},update:function(){var t=this.mesh.geometry;return t.verticesNeedUpdate=!0,t.normalsNeedUpdate=!0,t.buffersNeedUpdate=!0,t.dynamic=!0,this},updateMeshPosition:function(t){var e=this.mesh.position,i=t.xyz;return e.x+=i[0],e.y+=i[1],e.z+=i[2],this}})}(i),function(t){var i=e(t.Library3d,{constructor:function(){this.id="Three.js",this.meshClass=t.MeshThree,this.vertexClass=t.VertexThree}});t.LibraryThree=new i}(i),function(t){var i=t.ModConstant,s=i.X,n=i.Y,r=i.Z,h=t.Vector3,o=t.VecArray,u=t.VertexJ3D=e(t.VertexProxy,{constructor:function(t,e){this.geometry=t,this.VERTEX_POSITION=J3D.Mesh.VERTEX_POSITION,this.$super("constructor",e)},geometry:null,VERTEX_POSITION:null,dispose:function(){return this.VERTEX_POSITION=null,this.geometry=null,this.$super("dispose"),this},setVertex:function(t){var e=this.geometry,i=e.arraysByName[this.VERTEX_POSITION],s=i.data;return this.vertex=t,this.original=new o([s[t],s[t+1],s[t+2]]),this.xyz=new o(this.original),this},getXYZ:function(){var t=this.vertex,e=this.geometry,i=e.arraysByName[this.VERTEX_POSITION],s=i.data;return new o([s[t],s[t+1],s[t+2]])},getX:function(){var t=this.vertex,e=this.geometry,i=e.arraysByName[this.VERTEX_POSITION],s=i.data;return s[t]},getY:function(){var t=this.vertex,e=this.geometry,i=e.arraysByName[this.VERTEX_POSITION],s=i.data;return s[t+1]},getZ:function(){var t=this.vertex,e=this.geometry,i=e.arraysByName[this.VERTEX_POSITION],s=i.data;return s[t+2]},setXYZ:function(t){var e=this.vertex,i=this.geometry,s=i.arraysByName[this.VERTEX_POSITION],n=s.data;return n[e]=t[0],n[e+1]=t[1],n[e+2]=t[2],this},setX:function(t){var e=this.vertex,i=this.geometry,s=i.arraysByName[this.VERTEX_POSITION],n=s.data;return n[e]=t,this},setY:function(t){var e=this.vertex,i=this.geometry,s=i.arraysByName[this.VERTEX_POSITION],n=s.data;return n[e+1]=t,this},setZ:function(t){var e=this.vertex,i=this.geometry,s=i.arraysByName[this.VERTEX_POSITION],n=s.data;return n[e+2]=t,this},reset:function(){var t=this.vertex,e=this.geometry,i=e.arraysByName[this.VERTEX_POSITION],s=i.data,n=this.original;return s[t]=n[0],s[t+1]=n[1],s[t+2]=n[2],this},collapse:function(){var t=this.vertex,e=this.geometry,i=e.arraysByName[this.VERTEX_POSITION],s=i.data;return this.original=new o([s[t],s[t+1],s[t+2]]),this},getValue:function(t){var e=this.vertex,i=this.geometry,h=i.arraysByName[this.VERTEX_POSITION],o=h.data;switch(t){case s:return o[e];case n:return o[e+1];case r:return o[e+2]}return 0},setValue:function(t,e){var i=this.vertex,h=this.geometry,o=h.arraysByName[this.VERTEX_POSITION],u=o.data,a=!1;switch(t){case s:u[i]=e,a=!0;break;case n:u[i+1]=e,a=!0;break;case r:u[i+2]=e,a=!0}return this},setVector:function(t){var e=this.vertex,i=this.geometry,s=i.arraysByName[this.VERTEX_POSITION],n=s.data,r=t.xyz;return n[e]=r[0],n[e+1]=r[1],n[e+2]=r[2],this},getVector:function(){var t=this.vertex,e=this.geometry,i=e.arraysByName[this.VERTEX_POSITION],s=i.data;return new h([s[t],s[t+1],s[t+2]])}});u.prototype.getXYZRef=u.prototype.getXYZ,u.prototype.setXYZRef=u.prototype.setXYZ}(i),function(t){var i=t.VertexJ3D;t.FaceProxy,t.VecArray,t.MeshJ3D=e(t.MeshProxy,{constructor:function(t){this.VERTEX_POSITION=J3D.Mesh.VERTEX_POSITION,this.$super("constructor",t)},VERTEX_POSITION:null,dispose:function(){return this.VERTEX_POSITION=null,this.$super("dispose"),this},setMesh:function(t){this.$super("setMesh",t);var e,s=0,n=t.geometry,r=n.arraysByName[this.VERTEX_POSITION],h=r.data,o=h.length,u=r.itemSize,a=this.vertices;for(s=0;o>s;)e=new i(n,s),a.push(e),s+=u;return this.faces=null,this},update:function(){var t=this.mesh.geometry,e=t.arraysByName[this.VERTEX_POSITION],i=e.data;return t.replaceArray(e,i),this},updateMeshPosition:function(t){var e=this.mesh.position,i=t.xyz;return e.x+=i[0],e.y+=i[1],e.z+=i[2],this}})}(i),function(t){var i=e(t.Library3d,{constructor:function(){this.id="J3D",this.meshClass=t.MeshJ3D,this.vertexClass=t.VertexJ3D}});t.LibraryJ3D=new i}(i),function(t){var i=t.ModConstant,s=i.X,n=i.Y,r=i.Z,h=t.Vector3,o=t.VecArray,u=t.VertexCopperlicht=e(t.VertexProxy,{constructor:function(t,e,i){this.node=t,this.buffer=e,this.$super("constructor",i)},node:null,buffer:null,dispose:function(){return this.node=null,this.buffer=null,this.$super("dispose"),this
},setVertex:function(t){var e=t.Pos;return this.vertex=t,this.original=new o([e.X,e.Y,e.Z]),this.xyz=new o(this.original),this},getXYZ:function(){var t=this.vertex.Pos;return new o([t.X,t.Y,t.Z])},getX:function(){return this.vertex.Pos.X},getY:function(){return this.vertex.Pos.Y},getZ:function(){return this.vertex.Pos.Z},setXYZ:function(t){var e=this.vertex.Pos;return e.X=t[0],e.Y=t[1],e.Z=t[2],this},setX:function(t){var e=this.vertex.Pos;return e.X=t,this},setY:function(t){var e=this.vertex.Pos;return e.Y=t,this},setZ:function(t){var e=this.vertex.Pos;return e.Z=t,this},reset:function(){var t=this.vertex.Pos,e=this.original;return t.X=e[0],t.Y=e[1],t.Z=e[2],this},collapse:function(){var t=this.vertex.Pos;return this.original=new o([t.X,t.Y,t.Z]),this},getValue:function(t){var e=this.vertex.Pos;switch(t){case s:return e.X;case n:return e.Y;case r:return e.Z}return 0},setValue:function(t,e){var i=this.vertex.Pos,h=!1;switch(t){case s:i.X=e,h=!0;break;case n:i.Y=e,h=!0;break;case r:i.Z=e,h=!0}return this},setVector:function(t){var e=this.vertex.Pos,i=t.xyz;return e.X=i[0],e.Y=i[1],e.Z=i[2],this},getVector:function(){var t=this.vertex.Pos;return new h([t.X,t.Y,t.Z])}});u.prototype.getXYZRef=u.prototype.getXYZ,u.prototype.setXYZRef=u.prototype.setXYZ}(i),function(t){var i=t.VertexCopperlicht;t.FaceProxy,t.MeshCopperlicht=e(t.MeshProxy,{constructor:function(t){this.$super("constructor",t)},setMesh:function(t){this.$super("setMesh",t);var e,s,n,r,h,o=this.mesh.getMesh().GetMeshBuffers(),u=this.vertices,a=[];for(s=0,n=o.length;n>s;s++)for(a=o[s].Vertices,e=0,r=a.length;r>e;e++)h=new i(this.mesh,o[s],a[e]),u.push(h);return this.faces=null,this},update:function(){for(var t=this.mesh.getMesh().GetMeshBuffers(),e=t.length,i=0;e>i;)t[i].update(!0),i++;return this},updateMeshPosition:function(t){var e=this.mesh.Pos,i=t.xyz;return e.X+=i[0],e.Y+=i[1],e.Z+=i[2],this}})}(i),function(t){var i=e(t.Library3d,{constructor:function(){this.id="Copperlicht",this.meshClass=t.MeshCopperlicht,this.vertexClass=t.VertexCopperlicht}});t.LibraryCopperlicht=new i}(i),function(t){var i=t.ModConstant,s=i.X,n=i.Y,r=i.Z,h=t.Vector3,o=t.VecArray,u=t.VertexCubicVR=e(t.VertexProxy,{constructor:function(t,e){this.sceneObject=t,this.$super("constructor",e)},sceneObject:null,dispose:function(){return this.sceneObject=null,this.$super("dispose"),this},setVertex:function(t){return this.vertex=t,this.original=new o(t),this.xyz=new o(t),this},getXYZ:function(){return new o(this.vertex)},getX:function(){return this.vertex[0]},getY:function(){return this.vertex[1]},getZ:function(){return this.vertex[2]},setXYZ:function(t){var e=this.vertex;return e[0]=t[0],e[1]=t[1],e[2]=t[2],this},setX:function(t){var e=this.vertex;return e[0]=t,this},setY:function(t){var e=this.vertex;return e[1]=t,this},setZ:function(t){var e=this.vertex;return e[2]=t,this},reset:function(){var t=this.vertex,e=this.original;return t[0]=e[0],t[1]=e[1],t[2]=e[2],this},collapse:function(){return this.original=new o(this.vertex),this},getValue:function(t){var e=this.vertex;switch(t){case s:return e[0];case n:return e[1];case r:return e[2]}return 0},setValue:function(t,e){var i=this.vertex,h=!1;switch(t){case s:i[0]=e,h=!0;break;case n:i[1]=e,h=!0;break;case r:i[2]=e,h=!0}return this},setVector:function(t){var e=this.vertex,i=t.xyz;return e[0]=i[0],e[1]=i[1],e[2]=i[2],this},getVector:function(){return new h(this.vertex)}});u.prototype.getXYZRef=u.prototype.getXYZ,u.prototype.setXYZRef=u.prototype.setXYZ}(i),function(t){var i=t.VertexCubicVR;t.FaceProxy,t.MeshCubicVR=e(t.MeshProxy,{constructor:function(t){this.$super("constructor",t)},setMesh:function(t){this.$super("setMesh",t);var e,s=0,n=t.obj.points,r=n.length,h=t.obj.faces,o=(h.length,this.vertices);for(s=0;r>s;)e=new i(t,n[s]),o.push(e),s++;return this.faces=null,this},update:function(){return this.mesh.dirty=!0,this},updateMeshPosition:function(t){var e=this.mesh.position,i=t.xyz;return e[0]+=i[0],e[1]+=i[1],e[2]+=i[2],this}})}(i),function(t){var i=e(t.Library3d,{constructor:function(){this.id="CubicVR.js",this.meshClass=t.MeshCubicVR,this.vertexClass=t.VertexCubicVR}});t.LibraryCubicVR=new i}(i),function(t){var i=t.ModConstant,s=i.X,n=i.Y,r=i.Z,h=t.Vector3,o=t.VecArray,u=t.VertexPre3D=e(t.VertexProxy,{constructor:function(t){this.$super("constructor",t)},setVertex:function(t){return this.vertex=t,this.original=new o([t.x,t.y,t.z]),this.xyz=new o(this.original),this},getXYZ:function(){var t=this.vertex;return new o([t.x,t.y,t.z])},getX:function(){return this.vertex.x},getY:function(){return this.vertex.y},getZ:function(){return this.vertex.z},setXYZ:function(t){var e=this.vertex;return e.x=t[0],e.y=t[1],e.z=t[2],this},setX:function(t){return this.vertex.x=t,this},setY:function(t){return this.vertex.y=t,this},setZ:function(t){return this.vertex.z=t,this},getValue:function(t){var e=this.vertex;switch(t){case s:return e.x;case n:return e.y;case r:return e.z}return 0},setValue:function(t,e){var i=this.vertex;switch(t){case s:i.x=e;break;case n:i.y=e;break;case r:i.z=e}return this},setVector:function(t){var e=this.vertex,i=t.xyz;return e.x=i[0],e.y=i[1],e.z=i[2],this},getVector:function(){var t=this.vertex;return new h([t.x,t.y,t.z])}});u.prototype.getXYZRef=u.prototype.getXYZ,u.prototype.setXYZRef=u.prototype.setXYZ}(i),function(t){var i=t.VertexPre3D;t.FaceProxy,t.MeshPre3D=e(t.MeshProxy,{constructor:function(t){this.$super("constructor",t)},setMesh:function(t){this.$super("setMesh",t);var e,s,n=this.mesh.vertices,r=this.mesh.quads,h=n.length,o=(r.length,this.vertices);for(e=0;h>e;e++)s=new i(n[e]),o.push(s);return this.faces=null,this}})}(i),function(t){var i=e(t.Library3d,{constructor:function(){this.id="pre3d.js",this.meshClass=t.MeshPre3D,this.vertexClass=t.VertexPre3D}});t.LibraryPre3D=new i}(i),i});
