/**
*
* MOD3  Plugin for Copperlicht
*
*
**/
!function(t){"use strict";var e=t.ModConstant,r=(e.X,e.Y,e.Z,t.XYZ),n=t.XYZi,s=t.VecArray,i=t.List.each,c=t.Class(t.VertexProxy,{constructor:function(t,e){this.$super("constructor",[t,e]),this.name="VertexCopperlicht"},setVertex:function(t){var e=this;return e.vertex=t,e.original=new s([t.X,t.Y,t.Z]),e},getXYZ:function(){var t=this.vertex,e=new s(3);return e[0]=t.X,e[1]=t.Y,e[2]=t.Z,e},getX:function(){return this.vertex.X},getY:function(){return this.vertex.Y},getZ:function(){return this.vertex.Z},getValue:function(t){return this.vertex[r[n[t]]]||0},setXYZ:function(t){var e=this.vertex;return e.X=t[0],e.Y=t[1],e.Z=t[2],self},setX:function(t){return this.vertex.X=t,this},setY:function(t){return this.vertex.Y=t,this},setZ:function(t){return this.vertex.Z=t,this},setValue:function(t,e){return this.vertex[r[n[t]]]=e,this},reset:function(){var t=this,e=t.vertex,r=t.original;return e.X=r[0],e.Y=r[1],e.Z=r[2],t},collapse:function(){var t=this,e=t.vertex,r=t.original;return r[0]=e.X,r[1]=e.Y,r[2]=e.Z,t}}),e=t.Class(t.MeshProxy,{constructor:function(t){this.$super("constructor",[t]),this.name="MeshCopperlicht"},init:function(t){var e=this;e.$super("init",[t]);var r,n,s,i,u,o,h=e.mesh.getMesh().GetMeshBuffers();for(e.faces=null,e.vertices=i=[],n=0,s=h.length;n<s;++n)for(r=0,o=(u=h[n].Vertices).length;r<o;++r)i.push(new c(u[r].Pos,e));return e},update:function(){return i(this.mesh.getMesh().GetMeshBuffers(),function(t){t.update(!0)}),this},updateMeshPosition:function(t){var e=this.mesh.Pos,t=t.xyz;return e.X+=t[0],e.Y+=t[1],e.Z+=t[2],this}});t.LibraryCopperlicht={id:"Copperlicht",Mesh:e,Vertex:c}}(MOD3);