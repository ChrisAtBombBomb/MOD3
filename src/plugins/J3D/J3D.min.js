/**
*
* MOD3  Plugin for J3D
*
*
**/
!function(e,t){"use strict";var r,s,n=e.ModConstant,i=(n.X,n.Y,n.Z,e.XYZi),h=e.VecArray,a=Math.ceil;r=e.VertexJ3D=e.Class(e.VertexProxy,{constructor:function(e,t){var r=this;r.$super("constructor",e,t),r.name="VertexJ3D"},setVertex:function(e){var t=this,r=t.mesh.mesh.geometry.arraysByName[J3D.Mesh.VERTEX_POSITION].data;return t.vertex=e,t.original=new h([r[e],r[e+1],r[e+2]]),t},getXYZ:function(){var e=this,t=e.vertex,r=e.mesh.v,s=new h(3);return s[0]=r[t],s[1]=r[t+1],s[2]=r[t+2],s},getX:function(){return this.mesh.v[this.vertex]},getY:function(){return this.mesh.v[this.vertex+1]},getZ:function(){return this.mesh.v[this.vertex+2]},getValue:function(e){return this.mesh.v[this.vertex+i[e]]||0},setXYZ:function(e){var t=this,r=t.vertex,s=t.mesh.v;return s[r]=e[0],s[r+1]=e[1],s[r+2]=e[2],t},setX:function(e){return this.mesh.v[this.vertex]=e,this},setY:function(e){return this.mesh.v[this.vertex+1]=e,this},setZ:function(e){return this.mesh.v[this.vertex+2]=e,this},setValue:function(e,t){return this.mesh.v[this.vertex+i[e]]=t,this},reset:function(){var e=this,t=e.vertex,r=e.mesh.v,s=e.original;return r[t]=s[0],r[t+1]=s[1],r[t+2]=s[2],e},collapse:function(){var e=this,t=e.vertex,r=e.mesh.v,s=e.original;return s[0]=r[t],s[1]=r[t+1],s[2]=r[t+2],e}}),s=e.MeshJ3D=e.Class(e.MeshProxy,{constructor:function(e){var t=this;t.$super("constructor",e),t.name="MeshJ3D"},init:function(e){var t=this;t.$super("init",e);var s,n,i,h=e.geometry,u=h.arraysByName[J3D.Mesh.VERTEX_POSITION],o=u.data,v=o.length,c=u.itemSize;for(t.faces=null,t.vertices=i=new Array(a(v/c)),n=0,s=0;v>s;s+=c)i[n++]=new r(s,t);return t},update:function(){var e=this,t=e.mesh.geometry,r=t.arraysByName[J3D.Mesh.VERTEX_POSITION],s=r.data;return t.replaceArray(r,s),e},preApply:function(){var e=this;return e.v=e.mesh.geometry.arraysByName[J3D.Mesh.VERTEX_POSITION].data,e},postApply:function(){var e=this;return e.v=null,e}}),e.LibraryJ3D={id:"J3D",Mesh:s,Vertex:r}}(MOD3);