/**
*
* MOD3  Plugin for J3D
*
*
**/
!function(t){"use strict";var e=t.ModConstant,r=(e.X,e.Y,e.Z,t.XYZi),s=t.VecArray,u=Math.ceil,a=t.Class(t.VertexProxy,{constructor:function(t,e){this.$super("constructor",[t,e]),this.name="VertexJ3D"},setVertex:function(t){var e=this,r=e.mesh.mesh.geometry.arraysByName[J3D.Mesh.VERTEX_POSITION].data;return e.vertex=t,e.original=new s([r[t],r[t+1],r[t+2]]),e},getXYZ:function(){var t=this.vertex,e=this.mesh.v,r=new s(3);return r[0]=e[t],r[1]=e[t+1],r[2]=e[t+2],r},getX:function(){return this.mesh.v[this.vertex]},getY:function(){return this.mesh.v[this.vertex+1]},getZ:function(){return this.mesh.v[this.vertex+2]},getValue:function(t){return this.mesh.v[this.vertex+r[t]]||0},setXYZ:function(t){var e=this,r=e.vertex,s=e.mesh.v;return s[r]=t[0],s[r+1]=t[1],s[r+2]=t[2],e},setX:function(t){return this.mesh.v[this.vertex]=t,this},setY:function(t){return this.mesh.v[this.vertex+1]=t,this},setZ:function(t){return this.mesh.v[this.vertex+2]=t,this},setValue:function(t,e){return this.mesh.v[this.vertex+r[t]]=e,this},reset:function(){var t=this,e=t.vertex,r=t.mesh.v,s=t.original;return r[e]=s[0],r[e+1]=s[1],r[e+2]=s[2],t},collapse:function(){var t=this,e=t.vertex,r=t.mesh.v,s=t.original;return s[0]=r[e],s[1]=r[e+1],s[2]=r[e+2],t}}),e=t.Class(t.MeshProxy,{constructor:function(t){this.$super("constructor",[t]),this.name="MeshJ3D"},init:function(t){var e=this;e.$super("init",[t]);var r,s,n,t=t.geometry.arraysByName[J3D.Mesh.VERTEX_POSITION],i=t.data.length,h=t.itemSize;for(e.faces=null,e.vertices=n=new Array(u(i/h)),r=s=0;r<i;r+=h)n[s++]=new a(r,e);return e},update:function(){var t=this.mesh.geometry,e=t.arraysByName[J3D.Mesh.VERTEX_POSITION],r=e.data;return t.replaceArray(e,r),this},preApply:function(){return this.v=this.mesh.geometry.arraysByName[J3D.Mesh.VERTEX_POSITION].data,this},postApply:function(){return this.v=null,this}});t.LibraryJ3D={id:"J3D",Mesh:e,Vertex:a}}(MOD3);